<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Josephu]]></title>
  <link href="http://Josephu.github.com/atom.xml" rel="self"/>
  <link href="http://Josephu.github.com/"/>
  <updated>2013-02-02T00:57:46+08:00</updated>
  <id>http://Josephu.github.com/</id>
  <author>
    <name><![CDATA[Josephu Batang Luz]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Wonderful editor Sublime Text 2]]></title>
    <link href="http://Josephu.github.com/blog/2013/02/01/wonderful-editor-sublime-text-2/"/>
    <updated>2013-02-01T21:53:00+08:00</updated>
    <id>http://Josephu.github.com/blog/2013/02/01/wonderful-editor-sublime-text-2</id>
    <content type="html"><![CDATA[<h3>Better than TextMate</h3>

<ul>
<li>Cross platform, Mac/Linux/Windows all works!</li>
<li>Well designed UI and highly customizable!</li>
<li>Support Chinese characters!</li>
<li>Rich and convenient package system, easy to hack</li>
<li>Support VIM commands</li>
<li>Great support to GIT</li>
<li>Other great packages, eg. SFTP &#8230;</li>
</ul>


<h3>Useful packages</h3>

<p>You need to install package control before using these packages.</p>

<ul>
<li>Vintage and VintageEx: integrate with VIM</li>
<li><a href="https://github.com/kemayo/sublime-text-2-git/wiki">Git</a>: provide git commands</li>
<li><a href="https://github.com/jisaacks/GitGutter">Gitgutter</a>: show diff by +/- on the head of the line</li>
<li><a href="http://wbond.net/sublime_packages/sftp">SFTP</a>: provide sftp to sync remote file/folder</li>
<li><a href="https://github.com/luqman/SublimeText2RailsRelatedFiles">Rails Related Files</a>: Can find related controller/model/views</li>
<li><a href="https://github.com/KELiON/RailsMigrationsList">Rails Migration List</a>: Can find all migration files</li>
<li><a href="http://code.google.com/p/zen-coding/">Zen Coding</a>: provide quick html generation, see <a href="http://fredchiu.wordpress.com/2011/12/14/install-zen-coding-plugin-for-sublime-text-2/">tutorial</a></li>
</ul>


<h3>Convenient shortcuts</h3>

<p>Below are some interesting keys in Mac:</p>

<ul>
<li><strong> Cmd Shift p </strong>: open command window</li>
<li><strong> Cmd t </strong>: file finder, support fuzzy query!</li>
<li><strong> Cmd Shift [ or ] </strong>: jump to left or right file</li>
<li><strong> Cmd w </strong>: close file</li>
<li><strong> Cmd r (Cmd t + @) </strong>: find id in html file</li>
<li><strong> Cmd t + # </strong>: find class or html tags in html file</li>
<li><strong> Cmd l </strong>: select line/s</li>
<li><strong> Cmd (number) </strong>: jump to file (number)</li>
<li><strong> Cmd t + :(number)</strong>: jump to line (number)</li>
<li><strong> Cmd k b </strong>: toggle sidebar</li>
<li><strong> Cmd Opt 2 </strong>: split to 2 screens</li>
<li><strong> Ctrl Shift (number) </strong>: move file to screen (number)</li>
</ul>


<h3>Setup package control</h3>

<p>It is very simple to setup <a href="http://wbond.net/sublime_packages/package_control/installation">package control</a>.
To check if you successful install, go to <strong> Preference -> Browse Packages </strong>, go up a folder, and check in <strong> Installed Packages </strong>.</p>

<p>After installed, you should find <strong> Package Control &#8230; </strong> in command window.
Eg. <strong> Package Control - Install </strong> will connect to remote repo. and show all packages</p>

<h3>Setup VIM commands</h3>

<p>Vintage provides simulated vim commands in Sublime Text. Default settings ignored it,
so you just have to modify this, and add a shortcut key to use it. Official is shared in
<a href="http://www.sublimetext.com/docs/2/vintage.html">vintage document</a> and a simple <a href="http://madscientist.wordpress.com/2012/10/18/make-sublime-text-2-as-vim-replacement/">tutorial</a></p>

<h4>Remove Vintage from ignore_packages</h4>

<ol>
<li>Preferences -> Settings - Default</li>
<li>Edit file, remove Vintage from ignored_packages</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  // List any packages to ignore here. When removing entries from this list,
</span><span class='line'>  // a restart may be required if the package contains plugins.
</span><span class='line'>  //"ignored_packages": ["Vintage"]
</span><span class='line'>  "ignored_packages": []</span></code></pre></td></tr></table></div></figure>


<ol>
<li>Preferences -> Settings - User, and do step 2</li>
</ol>


<h4>Setup shortcut key binding</h4>

<ol>
<li>Preferences -> Key Bindings - User ( I use User mode, since in Default mode, updating the software, will reset default settings)</li>
<li>Edit file, add your preferred shortcut key</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[
</span><span class='line'>  // Add key shortcut to VIM, using escape key in this example
</span><span class='line'>  { "keys": ["escape"], "command": "exit_insert_mode",
</span><span class='line'>      "context":
</span><span class='line'>      [
</span><span class='line'>          { "key": "setting.command_mode", "operand": false },
</span><span class='line'>          { "key": "setting.is_widget", "operand": false }
</span><span class='line'>      ]
</span><span class='line'>  }
</span><span class='line'>]</span></code></pre></td></tr></table></div></figure>


<p>Now everytime you press &#8216;escape&#8217; key, it will switch to VIM edit mode!</p>

<p>If you want VIM commands, you can install <strong>Vintage Ex</strong> through package control.</p>

<h3>Setup SFTP</h3>

<p>The official <a href="http://wbond.net/sublime_packages/sftp">website</a> will teach you to install, and configure parameters.
I use this simple <a href="https://coderwall.com/p/52p2xa">tutorial</a> to <strong> setup remote server</strong> and <strong> sync remote to local </strong>.</p>

<p>Note that, when creating a local repo., <strong>sftp-config.json</strong> will be created, and server settings are done in this file.
I made a few tweaks to make it work better.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"save_before_upload": true,
</span><span class='line'>"upload_on_save": true # when save, file will be uploaded, ensure remote file be up to date
</span><span class='line'>"sync_down_on_open": false,
</span><span class='line'>"sync_skip_deletes": false,
</span><span class='line'>"confirm_downloads": false,
</span><span class='line'>"confirm_sync": false,
</span><span class='line'>"confirm_overwrite_newer": true, # warning if remote is being modified</span></code></pre></td></tr></table></div></figure>


<p>Very simple and works well. Only a pity that .git is not synced, so git tools cannot be used.</p>

<h3>Setup Rails Related Files</h3>

<p>Just install the package via package control, and add key binding, reference <strong> Default (OSX).sublime-keymap </strong>
in <a href="https://github.com/luqman/SublimeText2RailsRelatedFiles">github source</a>.</p>

<p>Default uses <strong> Cmd Shift o </strong>.</p>

<h3>Setup Rails Migration List</h3>

<p>Just install via package control. Default uses <strong> Cmd Shift m </strong>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to use nested resources]]></title>
    <link href="http://Josephu.github.com/blog/2013/01/12/how-to-use-nested-resources/"/>
    <updated>2013-01-12T23:44:00+08:00</updated>
    <id>http://Josephu.github.com/blog/2013/01/12/how-to-use-nested-resources</id>
    <content type="html"><![CDATA[
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setup Red Mine On Heroku]]></title>
    <link href="http://Josephu.github.com/blog/2013/01/09/trying-out-red-mine/"/>
    <updated>2013-01-09T23:47:00+08:00</updated>
    <id>http://Josephu.github.com/blog/2013/01/09/trying-out-red-mine</id>
    <content type="html"><![CDATA[<h2>My customization</h2>

<p>I followed this <a href="http://carolhsu.github.com/blog/2012/11/05/how-to-deploy-redmine-at-heroku/">tutorial</a>,
with only a minor customization.</p>

<ol>
<li>Use <strong>mysql2</strong> instead of <strong>mysql</strong> in database.yml</li>
<li>Use <strong>master</strong> branch in Red Mine</li>
<li>Remove <strong>sqlite3</strong> related gems in Gemfile</li>
<li>Add themes in <code>public/themes</code>, and switch theme in <code>Administrator/settings/display</code></li>
</ol>


<h2>Deploying with Heroku</h2>

<p>I added a few steps from above tutorial, since this is my first deploy to Heroku.</p>

<ol>
<li>Installing the Heroku toolbelt</li>
<li>Use <code>heroku login</code> to switch to heroku env.</li>
<li>Use <code>heroku keys:add ~/.ssh/id_rsa_x.pub</code> to setup key for ssh session when doing git push</li>
<li>Restart heroku by <code>heroku ps:restart</code> and use <code>heroku open</code> to try out your app</li>
<li>Edit <em>config/environment.rb</em> to comment out the exit in case of plugins in vendor: <code># exit 1</code></li>
</ol>


<p>Note:</p>

<ul>
<li><p>This other <a href="http://x-aeon.com/wp/2012/09/27/howto-install-redmine-on-heroku/">reference</a> shows clearly the fix of vendor plugin issue. Thanks.</p></li>
<li><p>This other <a href="http://railsapps.github.com/rails-heroku-tutorial.html">reference</a> is very informative, but slightly out of date.</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I love Mongolia]]></title>
    <link href="http://Josephu.github.com/blog/2013/01/06/i-love-mongolia/"/>
    <updated>2013-01-06T22:28:00+08:00</updated>
    <id>http://Josephu.github.com/blog/2013/01/06/i-love-mongolia</id>
    <content type="html"><![CDATA[<p>Mongolia is beautiful. It has a lot of amazing scenery, and you can experience tough and rural life.</p>

<p><img src="http://Josephu.github.com/images/mongolia002.jpg" width="520" height="390" title="shepherd" alt="rural places with shepherds"></p>

<p>Mongolia has a rich amount of natural resource, and the largest industry are mining and sightseeing. Since Mongolia is not advance in technology, many countries came to &#8220;help&#8221;, and one of the most largest country is China. They brought hugh money in, but also much society problem. It&#8217;s ironic.</p>

<p>Looking back, the people I met are mostly friendly (as long as they know I am not from China&#8230;) and I really enjoyed being with them.</p>

<p><img src="http://Josephu.github.com/images/mongolia009.jpg" width="520" height="390" title="desert" alt="200km desert"></p>

<p>This is a very famous desert as it cross 200km. Although only around 200m high, it was very difficult to climb up, almost fell dead reaching the top. The happy man in the photo is our driver. :P</p>

<p><img src="http://Josephu.github.com/images/mongolia012f.jpg" width="440" height="600" title="glacier" alt="glacier in summer"></p>

<p>It is June, 30~40 degress celcius, and the glacier is still so thick. It is legendary &#8230;</p>

<p><img src="http://Josephu.github.com/images/mongolia007.jpg" width="520" height="390" title="ancient drawing" alt="ancient drawing"></p>

<p>This place looks like it has been hit by comet. The rocks are strange, and many ancient drawings are preserved.</p>

<p>Hope you enjoyed these photos as much as I did!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Automate purchases with paypal]]></title>
    <link href="http://Josephu.github.com/blog/2013/01/06/test-share-code/"/>
    <updated>2013-01-06T10:47:00+08:00</updated>
    <id>http://Josephu.github.com/blog/2013/01/06/test-share-code</id>
    <content type="html"><![CDATA[<p>To run purchases automatically without needing customer&#8217;s continuous authorization,
You need to get baid (billing agreement id). Afterwards you can use Paypal
reference transaction API to do future purchases.</p>

<p>Below is an example using active merchant gem to run Paypal API</p>

<figure class='code'><figcaption><span>active merchant example to get paypal baid by paypal express checkout api</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Initialize Paypal API</span>
</span><span class='line'><span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>  <span class="vi">@paypal</span> <span class="o">||=</span> <span class="ss">activemerchant</span><span class="p">:</span><span class="ss">:billing</span><span class="o">::</span><span class="n">paypalexpressgateway</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
</span><span class='line'>      <span class="ss">:login</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">paypal</span> <span class="n">email</span> <span class="n">account</span><span class="o">&gt;</span><span class="p">,</span>
</span><span class='line'>      <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">paypal</span> <span class="n">password</span><span class="o">&gt;</span><span class="p">,</span>
</span><span class='line'>      <span class="ss">:signature</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">paypal</span> <span class="n">signature</span><span class="o">&gt;</span><span class="p">,</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Ask for user agreement</span>
</span><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="n">setup_response</span> <span class="o">=</span> <span class="vi">@paypal</span><span class="o">.</span><span class="n">setup_purchase</span><span class="p">(</span>
</span><span class='line'>  <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:return_url</span>        <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">server</span> <span class="n">path</span><span class="o">&gt;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:cancel_return_url</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">server</span> <span class="n">path</span><span class="o">&gt;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:description</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">product</span> <span class="n">description</span><span class="o">&gt;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">&quot;USD&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:custom</span> <span class="o">=&gt;</span> <span class="s2">&quot;a customized data&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:billing_agreement</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class='line'>      <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">&#39;MerchantInitiatedBilling&#39;</span><span class="p">,</span> <span class="c1"># Use this to retrieve BAID =&gt; Billing Agreement ID</span>
</span><span class='line'>      <span class="ss">:payment_type</span> <span class="o">=&gt;</span> <span class="s2">&quot;Any&quot;</span> <span class="c1"># seemed optional</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'>  <span class="n">redirect_to</span> <span class="vi">@paypal</span><span class="o">.</span><span class="n">redirect_url_for</span><span class="p">(</span><span class="n">setup_response</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Get BAID</span>
</span><span class='line'><span class="k">def</span> <span class="nf">callback</span>
</span><span class='line'>  <span class="n">response</span> <span class="o">=</span> <span class="vi">@paypal</span><span class="o">.</span><span class="n">create_agreement</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:token</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">success?</span>
</span><span class='line'>      <span class="n">baid</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">params</span><span class="o">[</span><span class="s2">&quot;BillingAgreementID&quot;</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tips to setup & use octopress]]></title>
    <link href="http://Josephu.github.com/blog/2013/01/05/tips-to-setup-octopress/"/>
    <updated>2013-01-05T20:25:00+08:00</updated>
    <id>http://Josephu.github.com/blog/2013/01/05/tips-to-setup-octopress</id>
    <content type="html"><![CDATA[<h2>Octopress, really is &#8230; for hackers!</h2>

<p>Basically, in octopress, blogging is like programming</p>

<blockquote><p>To create post, do <code>rake new_post[title]</code></p>

<p>To generate result, do <code>rake generate</code></p>

<p>To preview, do <code>rake preview</code></p>

<p>To deploy, do <code>rake deploy</code></p></blockquote>

<p>And &#8230; I blog with VIM!!</p>

<h2>Setup Octopress</h2>

<p>I tried to deploy Octopress by github, since I already have an account.</p>

<p>However, the path wasn&#8217;t too smooth today &#8230;</p>

<p>I setup a repository, Josephu (git@github.com:Josephu/Josephu.git to be exact),
and run the command:</p>

<p><code>rake setup_github_pages</code></p>

<p><code>rake generate; rake deploy</code></p>

<p>But connecting to <strong>http://josephu.github.com</strong> failed!</p>

<p>It took me some time to figure out that I named the repo wrongly &#8230;</p>

<p>It is suppose to be <strong>josephu.github.com (git@github.com:Josephu/josephu.github.com.git)</strong></p>

<p>Nice &#8230;</p>

<h2>Customize Octopress</h2>

<p>To make the theme feel right, I made a few fixes in CSS &amp; html.</p>

<p>Basically, octopress provided scss files to customize in sass/custom and html content in source</p>

<ul>
<li>Background Color</li>
</ul>


<p>The color can be adjusted in sass/custom/color. They are defined as sass variables.</p>

<p>Since I want to add some texture to the banner, I got some free texture from <a href="http://www.amazingtextures.com">amazingtextures</a>
and add css in sass/custom/style, attach to the banner in source/layout. It looked much better this way.</p>

<p>Note that the image should be placed in source/images, and in scss, use image-url to get the correct path.</p>

<ul>
<li>Font Size</li>
</ul>


<p>The blockquote font is simply too large, so overriding with css is more comfortable for the eye.</p>

<ul>
<li>Optimize Speed</li>
</ul>


<p>Texture is compressed and croped to reduce transfer size</p>

<h2>So This Is Just The Beginning</h2>

<p>Have fun blogging!</p>
]]></content>
  </entry>
  
</feed>
